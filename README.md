# Fan Controller System (ATmega32)

## üìå Project Overview
The Fan Controller System is an embedded application designed to automatically regulate fan speed based on real-time temperature readings. Using an **ATmega32** microcontroller, the system interfaces with an **LM35 temperature sensor** via an **ADC**, processes the data, and controls a **DC Motor** using **Pulse Width Modulation (PWM)** generated by Timer0.

The system continuously displays the current temperature and fan state (ON/OFF) on an **8-bit LCD**.

---

## üõ†Ô∏è System Features
- **Real-time Temperature Monitoring:** Continuous sensing via LM35.
- **Automated Speed Control:** 5-stage speed regulation based on temperature thresholds.
- **Modular Software Design:** Implemented using a **Layered Architecture** (MCAL, HAL, and Application layers).
- **PWM Speed Regulation:** Smooth motor control using Timer0 PWM (500Hz).
- **User Interface:** 16x2 LCD display showing the system status and temperature in Celsius.

---

## üèóÔ∏è Software Architecture
The project follows a professional layered architecture model to ensure code reusability and portability:

1.  **MCAL (Microcontroller Abstraction Layer):**
    * **GPIO Driver:** Handles pin directions and digital I/O.
    * **ADC Driver:** Configurable driver (Polling-based) with structure-based initialization.
    * **PWM Driver:** Timer0-based PWM generation for motor speed control.
2.  **HAL (Hardware Abstraction Layer):**
    * **LCD Driver:** 8-bit mode interface for data visualization.
    * **DC-Motor Driver:** Controls motor state (CW/Stop) and integrates with the PWM driver for speed.
    * **Temperature Sensor Driver:** Provides calibrated Celsius readings from the LM35 sensor.
3.  **App Layer:**
    * **Main Logic:** Implements the control loop and temperature-to-speed mapping.

---

## üìä Control Logic
The fan speed is adjusted dynamically according to the following rules:

| Temperature (T) | Fan State | Fan Speed |
| :--- | :--- | :--- |
| T < 30¬∞C | OFF | 0% |
| 30¬∞C ‚â§ T < 60¬∞C | ON | 25% |
| 60¬∞C ‚â§ T < 90¬∞C | ON | 50% |
| 90¬∞C ‚â§ T < 120¬∞C | ON | 75% |
| T ‚â• 120¬∞C | ON | 100% |

---

## üîå Hardware Configuration
- **Microcontroller:** ATmega32 (1.0 MHz Clock)
- **Sensor:** LM35 (Connected to ADC Channel 2)
- **Display:** 16x2 LCD (8-bit Mode)
- **Actuator:** DC Motor (via L293D or similar H-Bridge)
- **ADC Reference:** Internal 2.56V
- **ADC Prescaler:** F_CPU / 8

### Pin Mapping
- **LCD Control:** RS ‚Üí PD0 | E ‚Üí PD2 | RW ‚Üí GND
- **LCD Data:** Port C (all 8 pins)
- **Motor Control:** PB0, PB1 (Direction) | PB3 (PWM/OC0)
- **Sensor:** PA2 (ADC2)

